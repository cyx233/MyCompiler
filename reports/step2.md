# 实验报告
#### 计81 陈雨翔 2018011295
## 任务概述
1. 改写语法
2. 加入IR标识Unary,直接判断哪种类型的操作符存在即可,成员变量op记录此标识符的操作。
3. Asm实现Unary的编译。不同op对应不同的汇编操作。
## 遇到的困难
1. 生成IR的顺序问题。刚开始混淆了IR栈与实际的运算栈，以为先放进去的指令后执行，所以一开始写IR先生成操作符。后来想明白了，先放进的操作先执行，是任务队列（指令队列）。所以需要先压栈表达式，再压栈操作符。这样运算栈中操作符就在栈顶了。所以IR要先visitChild，再加入Unary标识。
2. 逻辑取非的汇编标识。发现sltui t1,1即可。只有全0才会使t1=1,其他任何数由于被认为是无符号，都大于0,t1=0。
## 思考题
### 第一题
表达式：-0

从补码的角度考虑，0为0x0000 0000,其补码应为~0+1即0x1 0000 0000。
由此发生溢出，截断32位，得到0x0000 0000